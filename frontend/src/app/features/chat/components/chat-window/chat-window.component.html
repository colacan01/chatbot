<div class="chat-window">
  <!-- 헤더 -->
  <div class="chat-header">
    <div class="header-content">
      <div class="header-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M21 6h-2V3h-2v3h-3V3h-2v3H9V3H7v3H4V3H2v3H0v12h24V6h-3zm1 10H2V8h20v8z"/>
          <path d="M16 2l2 2-2 2-2-2z"/>
        </svg>
      </div>
      <div class="header-text">
        <h1>자전거 쇼핑 챗봇</h1>
        <div class="connection-status" [ngClass]="{'connected': isConnected, 'disconnected': !isConnected}">
          <span class="status-dot"></span>
          <span>{{ isConnected ? '연결됨' : '연결 끊김' }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- 에러 메시지 -->
  <div class="error-banner" *ngIf="connectionError">
    <div class="error-content">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
      </svg>
      <span>{{ connectionError }}</span>
      <button (click)="retry()">재시도</button>
    </div>
  </div>

  <!-- 메시지 리스트 -->
  <app-message-list
    [messages]="messages"
    [isTyping]="isTyping"
  ></app-message-list>

  <!-- 입력 영역 -->
  <app-chat-input
    [disabled]="!isConnected || isTyping"
    [maxLength]="2000"
    (messageSent)="onSendMessage($event)"
  ></app-chat-input>
</div>
